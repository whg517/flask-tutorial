# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist = py37

[testenv:py37]
install_command = pip install -i https://mirrors.aliyun.com/pypi/simple/ {opts} {packages}
deps =
    pipenv
commands =
    pipenv sync -d
    pytest --verbose --junitxml=junit-report.xml --cov
    pipenv run isort . --check-only --diff
    pipenv run flake8 .
